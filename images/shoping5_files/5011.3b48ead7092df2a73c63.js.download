"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[5011],{55011:(e,t,s)=>{s.d(t,{J:()=>v});var r=s(65723),i=s(17289),a=s(30397),l=s(20425),n=s(4055),o=s(36419),F=s(59790),c=s(77956),f=s(21239),d=s(19709),h=s(75937),j=s(93623),b=s(24608),p=s(63471),u=s(59331),g=s(33428),m=s(47286),x=s(27614);let S=({notifier$:e,footerRefOption$:t})=>s=>{let r=(0,l.Fs)(s,x.Tj(([e,t,s,r])=>({disableInfiniteScroll:e,feedDataFetcherParams:t,intersectionObserverRoot:s,intersectionObserverRootMarginBottom:r}))),i=(0,l.Fs)(r,x.x1(({intersectionObserverRoot:e})=>e),x.F()),a=(0,l.Fs)(r,x.Tj(({intersectionObserverRootMarginBottom:e})=>e??2e3),x.F()),n=(0,l.Fs)(r,x.Tj(({feedDataFetcherParams:e})=>e.page),x.F()),o=(0,l.Fs)(x.zV([t,i,a,n]),x.nx(([e,t,s])=>(0,l.Fs)(e,f.YW((0,l.dY)(x.wg),e=>(0,l.Fs)(h.sH(e,{...void 0!==t?{root:t}:null,rootMargin:h.x({top:j.Sj,right:j.Sj,bottom:j.qy(s),left:j.Sj})}),x.pb(h.uV)))))),F=(0,l.Fs)(r,x.Tj(e=>e.disableInfiniteScroll),x.F());return(0,l.Fs)(r,x.XM(x.h1((0,l.Fs)(x.zV([o,F]),x.pb(([e,t])=>!1===t)),e)))},I=e=>t=>{let s=(0,l.Fs)(t,x.Tj(([e,t,s,r])=>({hasFetchedAllPages:e,feedDataFetcherParams:t,feedDataFetcher:s,dependencies:r}))),r=(0,l.Fs)(s,x.XM(e),x.dM(({feedDataFetcherParams:e})=>e.page),x.Or(({hasFetchedAllPages:e})=>!1===e));return(0,l.Fs)(r,x.EY(s,(e,t)=>t),x.ZZ(({feedDataFetcherParams:e,feedDataFetcher:t,dependencies:s})=>(0,l.Fs)(t(e),m.Bb(s),g.Tj(([e])=>e),g.L5(3))))},T=e=>{let t=(0,p.h6)(),s=(0,u.J)(S({notifier$:e.notifier$,footerRefOption$:e.footerRefOption$}),[e.disableInfiniteScroll,e.feedDataFetcherParams,e.intersectionObserverRoot,e.intersectionObserverRootMarginBottom]),r=[e.hasFetchedAllPages,e.feedDataFetcherParams,e.feedDataFetcher,t],i=(0,u.J)(I(s),r);(0,b.so)(i)},M=({total:e,perPage:t})=>Math.ceil(e/t),O=e=>e.lastPageFetched>=M(e),Y=({lastPageFetched:e,perPage:t})=>({page:e+1,perPage:t}),k=({feedState:e,feedItems:t,renderItems:s,renderLoadingFooter:o,disableInfiniteScroll:F,...f})=>{let[h,j]=(0,i.z)(e=>(0,l.Fs)(e,c.rT)),b=a.Krr(()=>Y(e),[e]),p=a.Krr(()=>O(e),[e]);return T({...f,disableInfiniteScroll:F,feedDataFetcherParams:b,hasFetchedAllPages:p,footerRefOption$:j}),(0,r.jsxs)(a.iau,{children:[s({items:t,total:e.total}),(0,r.jsx)(a.iau,{...(0,d.x6)(n.n),ref:h}),!1===p&&!1===F&&(e.isLoading??!0)&&o()]})},v=({feedStateOption:e,feedItemsOption:t,renderEmpty:s,renderPlaceholder:i,renderFooter:n,disableInfiniteScroll:c,...d})=>(0,l.Fs)(f.CO(e,t),f.YW(i,([e,t])=>{let i=O(e),h=i||c||o.Im(t);return(0,r.jsxs)(a.Ut5,{children:[(0,l.Fs)(t,F.ci,f.YW(s,t=>(0,r.jsx)(k,{...d,feedState:e,feedItems:t,disableInfiniteScroll:c}))),h&&n({isEmpty:o.Im(t),hasFetchedAllPages:i,isInfiniteScrollDisabled:c})]})}))}}]);