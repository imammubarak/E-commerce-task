"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[6441],{47688:(e,a,d)=>{d.d(a,{GL:()=>E,Gk:()=>_,L1:()=>A,Xg:()=>Y,q4:()=>C});var s=d(87715),r=d(57374),t=d(97692),n=d(34776),o=d(38903),c=d(20425),i=d(62952),l=d(2712),h=d(36419),p=d(5838),F=d(325),m=d(17246),T=d(92127),k=d(59790),I=d(33428),u=d(21239),v=d(47286),j=d(32218),S=d(7457),q=d(69682),b=d(8780);let f=o.Z.matchX({HomepageHeader:"homepage-header",SayThanksCardMobile:"say-thanks-card-mobile",SayThanksCardTabletUp:"say-thanks-card-desktop",TopicsInFeed:"topics-in-feed",ExploreInFeed:"explore-in-feed",SearchInFeed:"search-in-feed"}),C=e=>{switch(e){case"development":return o.Z.matchX({HomepageHeader:(0,c.dY)(307171),SayThanksCardMobile:(0,c.dY)(237077),SayThanksCardTabletUp:(0,c.dY)(237076),TopicsInFeed:n.Uq({Phone:257457,[b._]:237186}),ExploreInFeed:n.Uq({Phone:257456,[b._]:247889}),SearchInFeed:n.Uq({Phone:257455,[b._]:241347})});case"production":return o.Z.matchX({HomepageHeader:(0,c.dY)(307172),SayThanksCardMobile:(0,c.dY)(219423),SayThanksCardTabletUp:(0,c.dY)(219424),TopicsInFeed:n.Uq({Phone:257453,[b._]:237209}),ExploreInFeed:n.Uq({Phone:257454,[b._]:247890}),SearchInFeed:n.Uq({Phone:257452,[b._]:241348})})}},U=({adEnv:e,adType:a,count:d,zoneId:s})=>({divName:f(a),zoneIds:k.of(s),count:d,networkId:(0,r.Pq)(e),siteId:(0,r.gE)(e),adTypes:k.of(5),properties:{}}),y=e=>v.zW(a=>(0,c.Fs)(F.of(t.Um),F.ap((0,c.Fs)(e,U,k.of,F.of)),F.ap(F.L9((0,s.b)(a.shouldUseSecureCookies))))),E=({adEnv:e,adType:a,count:d,zoneId:s})=>(0,c.Fs)(y({adEnv:e,adType:a,count:d,zoneId:s}),j.CX,j.bK(e=>(0,c.Fs)(I.QP(t.YK)(r.H6,{method:"POST",headers:{[l.U2]:i.cM.Json},body:t.n_.encode(e)}),j.rR)),S.KR,S.mr,S.Tj(e=>(0,c.Fs)(e.decisions,p.$I(f(a)),u.qI(u.k$),u.Tj(k.Tj(e=>o.Ad.fromKevelAd({ad:k.d5(e.contents),decision:e})))))),X=e=>h.cy(a=>(0,c.Fs)(a,h.Mu(t.X6)(e),c.v8.match({onTrue:m.RZ(()=>(0,c.Fs)(a,h.ku(a=>t.X6.equals(a,e)))),onFalse:(0,c.dY)([])}))),Y=(e,a)=>k.pb((0,c.L3)(e=>X(e.metadata.advertiserId)(a),h.YW(c.zt.constTrue,(0,c.L3)(h.zN(a=>(0,c.Fs)(e,T.Dc(t.X6)(a))),c.v8.not)))),_=q.Tj(u.qI(e=>(0,c.Fs)(e.template,t.Bj.match({"in-feed":a=>u.zN(o.Ad.mkInFeedAd({...e,template:a})),[b._]:(0,c.dY)(u.dv)})))),g=t.Bj.matchX({"kitchen-sink":!0,[b._]:!1}),x=t.Bj.matchX({"in-feed":!0,[b._]:!1}),A=o.Z.matchX({SayThanksCardMobile:g,SayThanksCardTabletUp:g,TopicsInFeed:x,HomepageHeader:(0,c.dY)(!0),ExploreInFeed:x,SearchInFeed:x})},76211:(e,a,d)=>{d.d(a,{mc:()=>M,$9:()=>w,no:()=>Z});var s=d(65723),r=d(39033),t=d(2553),n=d(31297),o=d(45208),c=d(35653),i=d(17536),l=d(8547),h=d(97692),p=d(81470),F=d(92777);let m=(0,d(66383).Mz)(e=>e.directAds,e=>e.renderedAdsByAdvertiser);var T=d(34776),k=d(38903),I=d(4730),u=d(30397),v=d(20425),j=d(59331),S=d(36419),q=d(37004),b=d(38437),f=d(59790),C=d(33428),U=d(77956),y=d(21239),E=d(47286),X=d(73036),Y=d(69682),_=d(78273),g=d(5540),x=d(27614),A=d(47688);let H=e=>{switch(e){case"development":return[[h.SS(2260292),h.SS(2260293)]];case"production":return[[h.SS(2262847),h.SS(1890533)]]}},P=b.z3(e=>["InvalidTemplatesError",{invalidAds:(0,v.Fs)(e,f.Tj(e=>({invalidTemplate:h.gY(e.template),flightId:e.metadata.flightId,creativeId:e.metadata.creativeId})))}]),Z=({adType:e,count:a})=>{let d=(0,l.d)(m),s=(0,j.J)(e=>(0,v.Fs)(e,x.Tj(([e])=>e)),[d]),r=(0,p.r)(),t=(0,F.Y0)();return(0,j.J)(e=>{let d=(0,v.Fs)(e,x.Tj(e=>e[0]),x.F(k.Z.Eq.equals)),t=(0,v.Fs)(e,x.Tj(e=>e[1]),x.F(y.nZ(T.Eq).equals)),n=(0,v.Fs)(U.CO((0,v.Fs)(d,U.K_),t),U.Tj(([e,a])=>(0,A.q4)(r.adEnv)(e)(a)),x.F(y.nZ(g.Eq).equals));return(0,v.Fs)(U.CO((0,v.Fs)(d,U.K_),n),x.EY(s),x.Tj(([e,a])=>(0,v.Fs)(e,y.Tj(([e,d])=>(0,_.PV)(e,d,a)))),U.HZ(([e,d,s])=>(0,v.Fs)(x.v6(()=>(0,v.Fs)((0,A.GL)({adEnv:r.adEnv,adType:e,count:3*a,zoneId:d}),E.Bb(r))),x.Mi((0,v.L3)(Y.v6((0,v.dY)(X.IX),I.V0(C.aM),a=>(0,v.Fs)(a,y.qI((0,v.L3)(S.ku(a=>(0,v.Fs)(a.template,(0,A.L1)(e))),f.ci,y.Tj(I.V0(P)))),y.ak(()=>X.IX))),I.Fe("KevelError"),I.eQ({directAdType:k.Z.Show.show(e)}),E.Bb(I.Sn),q.st)),x.Tj(Y.Tj(y.qI((0,A.Xg)(s,H(r.adEnv))))))),x.Tj(y.ak(()=>Y.Vh)))},[e,t])},w=({adType:e,count:a,children:d})=>d((0,i.m)(Z({adType:e,count:a}))),L=({metadata:e})=>(0,s.jsxs)(u.Ut5,{children:[(0,s.jsx)(n.j,{url:e.impressionUrl}),(0,v.Fs)(e.impressionTrackers,y.f3(S.K$((e,a)=>(0,s.jsx)(n.j,{url:a},e))))]}),M=({children:e,metadata:a,adType:d})=>{let n=(0,o.w)();return(0,c.J)(()=>{n(r.rc.mk.DirectAdImpression({metadata:a,adType:d}))}),(0,s.jsxs)(u.Ut5,{children:[e,(0,s.jsx)(t.A,{children:(0,s.jsx)(L,{metadata:a})})]})}},64315:(e,a,d)=>{d.d(a,{X:()=>i});var s=d(65723),r=d(39033),t=d(13975),n=d(45208),o=d(30397),c=d(32127);let i=({metadata:e,adType:a,...d})=>{let i=(0,n.w)(),l=o.hbB(()=>{i(r.rc.mk.Track(c.Jh.mk.DirectAdClick({metadata:e,adType:a})))},[e,a]);return(0,s.jsx)(t.p,{onClick:l,href:e.clickUrl,...d})}},17536:(e,a,d)=>{d.d(a,{m:()=>t});var s=d(23819),r=d(69682);let t=e=>(0,s.C)(e,r.Vh)},12117:(e,a,d)=>{d.d(a,{v:()=>i});var s=d(45152),r=d(91056),t=d(20425),n=d(325),o=d(21239);let c=(0,t.Fs)(r.ue,n.g7,o.t2(e=>"force_direct_ads"in e)),i=()=>(0,s.cC)()&&c}}]);